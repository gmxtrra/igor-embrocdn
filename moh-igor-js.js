const mohEntireHtmlContent='\n <div class="first-stage-search" id="first_stage_search_wrap">\n        <div class="search-bar">\n            <div class="input-group mb-3">\n                <div class="input-group-prepend">\n                    <span class="input-group-text" id="search-product-desc">\n                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>\n                    </span>\n                </div>\n                <input type="text" class="form-control" placeholder="Search products..." aria-label="SearchBar" aria-describedby="search-product-desc" id="first_stage_search_product_input">\n            \n                <div class="input-group-prepend" id="close_first_stage_search">\n                     <span class="input-group-text gmx-clickable" id="search_brn_close_full_overly">\n                         Close\n                     </span>\n                </div>\n            </div>\n     </div>\n\n\n\n\n\n\n    \x3c!-- FIRST STAGE CATEGORY SLIDER TOP UNDER SEARCH --\x3e\n    <div class="category-sliders mb-0">\n          <ul id="first_stage_categories_list_top_elm"></ul>\n    </div>\n\n\n\n    \x3c!-- SHORT SEARCH CONTENT --\x3e\n    <div class="short-search-content">\n              <div class="row mt-2">\n                        \x3c!-- PRODUCT SIDEBAR  --\x3e\n                        <div class="col-3 short-search-sidebar">\n                             <h5 class="text-muted">Categories</h5>\n\n                             \x3c!-- FIRST STAGE CATEGORY PLACEHOLDER --\x3e\n                                <div id="first_stage_cats_placeholder"><div class="ph-item" style="border: none;padding: 0;"><div class="ph-col-12"><div class="ph-row"><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div> <div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div> <div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div> </div> </div></div></div>\n                             \x3c!-- FIRST STAGE CATEGORY PLACEHOLDER ENDS--\x3e\n\n\n                              <div class="short-search-cats-side mt-2" id="first_stage_category_container">\n\n \n\n                                      <ul id="first_stage_fewer_cats">\n              \n                                      </ul>\n\n\n\n\n                                     <div class="mt-2" style="text-align: center;"> <button type="button" id="first_stage_show_all_categories_btn" data-toggle="collapse" data-target="#first_stage_cats_colapse" aria-expanded="false" aria-controls="first_stage_cats_colapse" class="simple-btn">Show all ...</button> </div>\n\n\n \n                                        <div class="collapse" id="first_stage_cats_colapse">\n                                                <ul id="first_stage_all_cats_container">\n                                          \n                                                </ul>\n                                        </div>\n\n\n                              </div> \n\n                        </div>\n\n                        \x3c!-- PRODUCT SEARCH GRID --\x3e\n                        <div class="col-lg-9 col-sm-12 short-search-products">\n \n                              <div id="first_stage_loading_icon" class="mt-3" style="text-align: center;">\n                                        <img src="https://embroideres.com/loading-icon.gif" width="64" height="64">\n                              </div>\n\n\n                               <div class="row" id="first_stage_product_list">\n                            \n                                    \x3c!-- <div class="col-lg-3 col-md-3">\n                                        <div class="p-3">\n                                            <img src="https://i.msearch.space/img/8710ef5827595b776bf9b74076e782df/5a/00/0764d2bc8574dc2a52c1be954ecd61e2.webp" alt="Product Image" height="200px">\n                                            <p class="text-muted" style="height: 40px;">This is a short description or prose about.</p>\n                                            <h5 class="mb-2">154.00$</h5>\n                                        </div>\n                                    </div>--\x3e\n\n\n                               </div>    \n\n\n                               \x3c!-- NO FIRST STAGE PRODUCT FOUND --\x3e\n                                <div class="no-result-f" id="first_stage_no_result">\n                                      <h3>Sorry. No result found as per your search terms. Please, refine your search.</h3>\n                                </div>\n                               \n                               \n                               \x3c!-- BOTTOM BUTTONS , SHOW ALL AND HIDE ALL BTNS --\x3e\n                                <div class="show-hide-all-cats" style="text-align: center;padding: 1rem;">\n                                       <button type="button" class="bordered-btn" onclick="showFullResultSearch()"> Show all</button>\n                                       <button type="button" class="bordeless-btn" id="hide_first_stage_div_btn"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevrons-up"><polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline></svg> Hide</button>\n\n                                </div>\n                       </div>\n                </div>\n    </div>\n\n\n\n\n </div>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n \n\x3c!-- SEARCH LOGIC HUGE FULL VERSION --\x3e\n<div class="gmx-wrapper" id="main_search_full" style="display: none;">\n     \x3c!-- SHOW FILTERS BTNS MOBILE --\x3e\n     <div class="show-mobile-filters">\n         <button type="button" id="showMobileFilters">\n              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-filter"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon></svg>\n\n         </button>\n     </div>\n\n\n    <div class="search-bar">\n            <div class="input-group mb-3">\n                <div class="input-group-prepend">\n                    <span class="input-group-text" id="search-product-desc">\n                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>\n                    </span>\n                </div>\n                <input type="text" class="form-control" placeholder="Search products..." aria-label="SearchBar" aria-describedby="search-product-desc" id="search_product_input">\n            \n                <div class="input-group-prepend" id="hide_second_stage_search_btn">\n                     <span class="input-group-text gmx-clickable" id="search_brn_close_full_overly">\n                         Close\n                     </span>\n                </div>\n            </div>\n    </div>\n\n      <div>\n         <button type="button" id="clear_all_search_filters" style="border: none;color: #e5476a;background: no-repeat;">Clear search</button>  \n     </div>\n\n    <div class="category-sliders mb-0" id="category_list_mobile">\n              <ul id="categories_list_top_elm">\n              </ul>\n    </div>\n \n    <hr>\n\n    <div class="content py-md-0 py-3">\n        <section id="sidebar">\n\n             <header class="side-filters-head" id="header_sidebar_filters">\n                      <div>\n                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-filter"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon></svg>\n                            <span>Filters</span>\n                      </div>\n\n                      <div>\n                         <button type="button" class="gmx-close-btn" id="hideMobileFilters">\n                             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>\n                         </button>\n                      </div>\n             </header>\n\n             \x3c!-- PRICE --\x3e\n            <div class="price-slider py-3">\n                    <h5 class="font-weight-bold mb-3">Price</h5>\n\n                    <input type="text" class="js-range-slider" name="my_range" value="">\n            </div>\n\n\n            <div class="py-3" id="desktop_side_cats">\n                <h5 class="font-weight-bold">Categories</h5>\n\n                 \x3c!-- CATEORIES LIST PLACEHOLDER --\x3e\n                    \x3c!-- <ul class="list-group" id="categories_list_placeholder">\n                            <div class="ph-item" style="border: none;padding: 0;">\n                                <div class="ph-col-12">\n                                    <div class="ph-row"><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div>\n                                        <div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div>\n                                        <div class="ph-col-12"></div><div class="ph-col-12"></div> <div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-12"></div>\n                                    </div>\n                                </div>\n                            </div>\n                    </ul> --\x3e\n            \n                 \x3c!-- <div id="categories_list_side_elm"> --\x3e\n                    <ul class="list-group" id="categories_list_side_elm">\n                        \x3c!-- <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-center category"> American twist <span class="badge badge-primary badge-pill">328</span> </li> --\x3e\n                        \x3c!-- //SHOW ALL CATEGORTY BTN --\x3e\n                        \x3c!-- <li style="list-style-type: none;">\n                            <button type="button" class="link-btn"></button>\n                        </li> --\x3e\n                    </ul>\n                 \x3c!-- </div> --\x3e\n\n\n\n\n\n                            <button class="link-btn" type="button" id="show_hide_all_categories_btn" data-toggle="collapse" data-target="#show_all_cats_collapse" aria-expanded="false" aria-controls="collapseExample">\n                                 Show all categories... </button>\n                   \n                        <div class="collapse" id="show_all_cats_collapse">\n                                    <ul class="list-group" id="categories_list_side_all_cats_elm">\n                                        \x3c!-- <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-center category"> American twist <span class="badge badge-primary badge-pill">328</span> </li> --\x3e\n                                        \x3c!-- //SHOW ALL CATEGORTY BTN --\x3e\n                                        \x3c!-- <li style="list-style-type: none;">\n                                            <button type="button" class="link-btn"></button>\n                                        </li> --\x3e\n                                    </ul>\n                         </div>\n\n            </div>\n\n\n\n            \x3c!-- ADVANCED FILTERS --\x3e\n        \x3c!-- NUMBER OF COLORS --\x3e\n        \x3c!-- NUMBER OF COLORS --\x3e\n         <hr>\n\n         <div class="advanced-filter-box">\n\n              <div class="d-flex justify-content-between" data-toggle="collapse" data-target="#number_of_colors_collapse" aria-expanded="false" aria-controls="numberOfColorsFilterContent">\n                 <label for="number_colors_input">Number of colors :</label>\n                    \x3c!-- Inline SVG arrow --\x3e\n                    <span class="collapse-arrow" id="collapseArrowIcon"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><polyline id="collapseArrowPath" points="9 18 15 12 9 6"></polyline></svg></span>\n               </div>\n\n\n                 <div class="collapse avaliability-list mt-1" id="number_of_colors_collapse">\n                    <div class="mt-1">\n                        <input class="params-input" type="hidden" min="1" placeholder="8" id="number_colors_input">\n                    </div>\n                    <ul class="list-group" id="number_of_colors_list_elm">\n                     \x3c!-- <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-center category"> <span> <input type="checkbox"> 124 </span> <span class="badge badge-primary badge-pill">328</span> </li>   --\x3e\n                        \x3c!-- //SHOW ALL CATEGORTY BTN --\x3e\n                        \x3c!-- <li style="list-style-type: none;">\n                            <button type="button" class="link-btn"></button>\n                        </li> --\x3e\n                    </ul>\n                 </div>\n         </div>\n\n\n         <hr>\n\n          \x3c!-- WIDTH FILTER COLLAPSE --\x3e\n          \x3c!-- WIDTH FILTER COLLAPSE --\x3e\n         <div class="advanced-filter-box">\n                \n              <div class="d-flex justify-content-between" data-toggle="collapse" data-target="#width_collapse" aria-expanded="false" aria-controls="widthFilterContent">\n                   <label for="width_input">Width : </label>\n                    \x3c!-- Inline SVG arrow --\x3e\n                    <span class="collapse-arrow" id="collapseArrowIcon"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><polyline id="collapseWidthArrowPath" points="9 18 15 12 9 6"></polyline></svg></span>\n               </div>\n\n\n                 <div class="collapse avaliability-list mt-1" id="width_collapse">\n                    <div class="mt-1">\n                            <input class="params-input" type="hidden" min="1" placeholder="88mm" id="width_input">\n                    </div>\n                    <ul class="list-group" id="width_list_elm">\n \n                    </ul>\n                 </div>\n         </div>\n\n         <hr>\n\n\n          \x3c!-- HEIGHT FILTER COLLAPSE --\x3e\n          \x3c!-- HEIGHT FILTER COLLAPSE --\x3e\n         <div class="advanced-filter-box">\n              <div class="d-flex justify-content-between" data-toggle="collapse" data-target="#height_collapse" aria-expanded="false" aria-controls="numberOfColorsFilterContent">\n                    <label for="height_input">Height : </label>\n                    \x3c!-- Inline SVG arrow --\x3e\n                    <span class="collapse-arrow" id="collapseArrowIcon"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><polyline id="collapseHeightArrowPath" points="9 18 15 12 9 6"></polyline></svg></span>\n               </div>\n                 \n\n                 <div class="collapse avaliability-list mt-1" id="height_collapse">\n                    <div class="mt-1">\n                        <input class="params-input" type="hidden" min="1" placeholder="8" id="height_input">\n                    </div>\n                    <ul class="list-group" id="height_list_elm">\n \n                    </ul>\n                 </div>\n         </div>\n \n        \x3c!-- //ACCORDATION FILTERS --\x3e\n         \x3c!-- <div class="py-3">\n            <div id="accordionExample" class="accordion"> --\x3e\n\n                \x3c!-- Accordion Item 1 --\x3e\n                \x3c!-- <div class="card bg-white">\n                <div class="card-header py-1 bg-white" id="headingOne">\n                    <h5 class="mb-0">\n                    <button class="btn d-flex justify-content-between align-items-center w-100" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">\n                         Numbers of colors\n                        <span class="arrow">&#9654;</span>\n                    </button>\n                    </h5>\n                </div>\n\n                <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">\n                    <div class="card-body">\n                                 <ul>\n                                            <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-center category"> <label class="tick"> 10 <input type="checkbox"> <span class="check"></span> </label> <span class="badge badge-primary badge-pill">112</span> </li>\n                                 </ul>\n\n                    </div>\n                </div>\n                </div> --\x3e\n\n                \x3c!-- Accordion Item 2 --\x3e\n                \x3c!-- <div class="card bg-white">\n                <div class="card-header py-0 bg-white" id="headingTwo">\n                    <h5 class="mb-0">\n                    <button class="btn collapsed d-flex justify-content-between align-items-center w-100" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">\n                        Height\n                        <span class="arrow">&#9654;</span>\n                    </button>\n                    </h5>\n                </div>\n                <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">\n                    <div class="card-body">\n                     Height\n                    </div>\n                </div>\n                </div> --\x3e\n\n            \x3c!-- </div>\n         </div> --\x3e\n\n\n        </section> \x3c!-- Products Section --\x3e\n\n\n        \x3c!-- PRODUCTS LIST OR GRID --\x3e\n        <section id="products">\n\n            \x3c!-- LOADING CARD --\x3e\n             <div class="container py-1" id="product_grid_placeholder_elm">\n                    <div class="row">\n                        <div class="col-lg-3 col-md-6 col-sm-10 offset-md-0 offset-sm-1 pt-lg-4 pt-4 ph-item" style="border: none;height: 260px;"><div class="ph-col-12"><div class="ph-picture"></div><div class="ph-row"><div class="ph-col-6 big"></div><div class="ph-col-4 empty big"></div><div class="ph-col-2 big"></div><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-12"></div></div></div></div>\n                        <div class="col-lg-3 col-md-6 col-sm-10 offset-md-0 offset-sm-1 pt-lg-4 pt-4 ph-item" style="border: none;"><div class="ph-col-12"><div class="ph-picture"></div><div class="ph-row"><div class="ph-col-6 big"></div><div class="ph-col-4 empty big"></div><div class="ph-col-2 big"></div><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-12"></div></div></div></div>\n                        <div class="col-lg-3 col-md-6 col-sm-10 offset-md-0 offset-sm-1 pt-lg-4 pt-4 ph-item" style="border: none;"><div class="ph-col-12"><div class="ph-picture"></div><div class="ph-row"><div class="ph-col-6 big"></div><div class="ph-col-4 empty big"></div><div class="ph-col-2 big"></div><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-12"></div></div></div></div>\n                        <div class="col-lg-3 col-md-6 col-sm-10 offset-md-0 offset-sm-1 pt-lg-4 pt-4 ph-item" style="border: none;"><div class="ph-col-12"><div class="ph-picture"></div><div class="ph-row"><div class="ph-col-6 big"></div><div class="ph-col-4 empty big"></div><div class="ph-col-2 big"></div><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-12"></div></div></div></div>\n                        <div class="col-lg-3 col-md-6 col-sm-10 offset-md-0 offset-sm-1 pt-lg-4 pt-4 ph-item" style="border: none;"><div class="ph-col-12"><div class="ph-picture"></div><div class="ph-row"><div class="ph-col-6 big"></div><div class="ph-col-4 empty big"></div><div class="ph-col-2 big"></div><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-12"></div></div></div></div>\n                        <div class="col-lg-3 col-md-6 col-sm-10 offset-md-0 offset-sm-1 pt-lg-4 pt-4 ph-item" style="border: none;"><div class="ph-col-12"><div class="ph-picture"></div><div class="ph-row"><div class="ph-col-6 big"></div><div class="ph-col-4 empty big"></div><div class="ph-col-2 big"></div><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-12"></div></div></div></div>\n                        <div class="col-lg-3 col-md-6 col-sm-10 offset-md-0 offset-sm-1 pt-lg-4 pt-4 ph-item" style="border: none;"><div class="ph-col-12"><div class="ph-picture"></div><div class="ph-row"><div class="ph-col-6 big"></div><div class="ph-col-4 empty big"></div><div class="ph-col-2 big"></div><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-12"></div></div></div></div>\n                        <div class="col-lg-3 col-md-6 col-sm-10 offset-md-0 offset-sm-1 pt-lg-4 pt-4 ph-item" style="border: none;"><div class="ph-col-12"><div class="ph-picture"></div><div class="ph-row"><div class="ph-col-6 big"></div><div class="ph-col-4 empty big"></div><div class="ph-col-2 big"></div><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-12"></div></div></div></div>\n                        <div class="col-lg-3 col-md-6 col-sm-10 offset-md-0 offset-sm-1 pt-lg-4 pt-4 ph-item" style="border: none;"><div class="ph-col-12"><div class="ph-picture"></div><div class="ph-row"><div class="ph-col-6 big"></div><div class="ph-col-4 empty big"></div><div class="ph-col-2 big"></div><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-12"></div></div></div></div>\n                        <div class="col-lg-3 col-md-6 col-sm-10 offset-md-0 offset-sm-1 pt-lg-4 pt-4 ph-item" style="border: none;"><div class="ph-col-12"><div class="ph-picture"></div><div class="ph-row"><div class="ph-col-6 big"></div><div class="ph-col-4 empty big"></div><div class="ph-col-2 big"></div><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-12"></div></div></div></div>\n                        <div class="col-lg-3 col-md-6 col-sm-10 offset-md-0 offset-sm-1 pt-lg-4 pt-4 ph-item" style="border: none;"><div class="ph-col-12"><div class="ph-picture"></div><div class="ph-row"><div class="ph-col-6 big"></div><div class="ph-col-4 empty big"></div><div class="ph-col-2 big"></div><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-12"></div></div></div></div>\n                        <div class="col-lg-3 col-md-6 col-sm-10 offset-md-0 offset-sm-1 pt-lg-4 pt-4 ph-item" style="border: none;"><div class="ph-col-12"><div class="ph-picture"></div><div class="ph-row"><div class="ph-col-6 big"></div><div class="ph-col-4 empty big"></div><div class="ph-col-2 big"></div><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-12"></div></div></div></div>\n\n                    </div>\n              </div>\n\n\n             \x3c!--ACTUAL  PRODUCT GRID --\x3e\n            <div class="container py-3">\n                  \x3c!-- PRODUCT CARD TO BE HERE --\x3e\n                    <div class="row" id="product_grid_elm">\n                         \x3c!-- PRODUCT CARD TO BE HERE --\x3e\n\n\n\n                         \x3c!-- NO RESULT --\x3e\n                            \n                    </div>\n                    <h3 class="no-result-text" id="no_result_found_elm">No result found !</h3>\n            </div>\n\n\n\n            \x3c!-- //PAGINATION --\x3e\n              <div id="pagination"></div>\n            \x3c!-- <div class="container py-1" id="p_paginate">\n                    <nav aria-label="Page navigation example">\n                    <ul class="pagination">\n                        <li class="page-item"><a class="page-link" href="#">Previous</a></li>\n                        <li class="page-item"><a class="page-link" style="color: #dc3545;" href="#">1</a></li>\n                        <li class="page-item"><a class="page-link" href="#">2</a></li>\n                        <li class="page-item"><a class="page-link" href="#">3</a></li>\n                        <li class="page-item"><a class="page-link" href="#">Next</a></li>\n                    </ul>\n                    </nav>\n             </div> --\x3e\n\n        </section>\n\n\n \n    </div>\n</div>\n\n',scriptTag=document.body.querySelector("script"),MohnewElement=document.createElement("div");function renderPagination(e){const t=e.page,s=e.pages;let l=Math.max(1,t-Math.floor(2.5)),n=l+5-1;n>s&&(n=s,l=Math.max(1,n-5+1));let i='<nav><ul class="pagination pagination-sm justify-content-center">';i+=t>1?`<li class="page-item">\n            <a class="page-link" href="#" data-page="${t-1}">&laquo;</a>\n        </li>`:'<li class="page-item disabled"><span class="page-link">&laquo;</span></li>',l>1&&(i+='<li class="page-item"><a class="page-link" href="#" data-page="1">1</a></li>',l>2&&(i+='<li class="page-item disabled"><span class="page-link">…</span></li>'));for(let e=l;e<=n;e++)i+=`<li class="page-item ${e===t?"active":""}">\n            <a class="page-link" href="#" data-page="${e}">${e}</a>\n        </li>`;n<s&&(n<s-1&&(i+='<li class="page-item disabled"><span class="page-link">…</span></li>'),i+=`<li class="page-item"><a class="page-link" href="#" data-page="${s}">${s}</a></li>`),i+=t<s?`<li class="page-item">\n            <a class="page-link" href="#" data-page="${t+1}">&raquo;</a>\n        </li>`:'<li class="page-item disabled"><span class="page-link">&raquo;</span></li>',i+="</ul></nav>",document.getElementById("pagination").innerHTML=i,document.querySelectorAll("#pagination .page-link").forEach((e=>{const t=parseInt(e.dataset.page);t&&e.addEventListener("click",(function(e){e.preventDefault(),fetchProductsData(parseInt(t),null,0,100,null,null,null)}))}))}MohnewElement.innerHTML=mohEntireHtmlContent,document.body.insertBefore(MohnewElement,scriptTag);var selectedCategoriesIds=[],selectedColors=[],selectedWidths=[],selectedHeights=[];function fetchProductsData(e=1,t=null,s=0,l=100,n=null,i=null,a=null){document.getElementById("no_result_found_elm").style.display="none",productListElm.innerHTML="",categoryListSideElm.innerHTML="",categoryListTopElm.innerHTML="",categoryListSideAllCatsElm.innerHTML="",productPlaceHolderElm.style.display="block",document.getElementById("number_of_colors_list_elm").innerHTML="",document.getElementById("width_list_elm").innerHTML="",document.getElementById("height_list_elm").innerHTML="";const c=new URLSearchParams;c.append("page",e),selectedCategoriesIds.forEach((e=>{c.append("categoryId[]",e)})),searchProductInput.value&&c.append("productName",searchProductInput.value),s&&c.append("priceMin",s),l&&c.append("priceMax",l),selectedHeights.forEach((e=>{c.append("height[]",e)})),selectedColors.forEach((e=>{c.append("colors[]",e)})),selectedWidths.forEach((e=>{c.append("width[]",e)})),fetch(`https://embroideres.com/parse-yml-records.php?${c.toString()}`).then((e=>{if(console.log(e),!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>{console.log(e),productPlaceHolderElm.style.display="none",e.categories.forEach((e=>{const t=document.createElement("li");t.classList.add("list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center","category"),t.innerHTML=createtTopCategoryItem(e.id,e.name,e.url),categoryListTopElm.appendChild(t)})),categoryListSideElm.innerHTML="";for(let t=0;t<e.categories.length;t++){let s=checkIsIdSelected(parseInt(e.categories[t].id));const l=document.createElement("li");if(l.classList.add("list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center","category"),l.innerHTML=createCategoryItem(e.categories[t].id,e.categories[t].name,e.categories[t].productCount,s),categoryListSideElm.appendChild(l),t>5)break}e.categories.length>5?e.categories.forEach((e=>{let t=checkIsIdSelected(parseInt(e.id));const s=document.createElement("li");s.classList.add("list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center","category"),s.innerHTML=createCategoryItem(e.id,e.name,e.productCount,t),categoryListSideAllCatsElm.appendChild(s)})):document.getElementById("show_hide_all_categories_btn").style.display="block",productListElm.innerHTML="",e.offers.forEach((e=>{const t=document.createElement("div");t.classList.add("col-lg-3","col-md-6","col-sm-10","offset-md-0","offset-sm-1","pt-lg-4","pt-4"),t.innerHTML=createProductItem(e.pic,e.name,e.price,e.currency,e.url),productListElm.appendChild(t)})),e.offers<1&&(document.getElementById("no_result_found_elm").style.display="block");for(let t=0;t<e.filters.number_of_colors.length;t++){let s=checkIsColorSelected(e.filters.number_of_colors[t].value);console.log("yes");const l=document.createElement("li");l.classList.add("list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center","category"),l.innerHTML=createNumColorsItem(e.filters.number_of_colors[t].value,e.filters.number_of_colors[t].count,s),document.getElementById("number_of_colors_list_elm").appendChild(l)}for(let t=0;t<e.filters.width.length;t++){let s=checkIsWidthSelected(e.filters.width[t].value);console.log("yes");const l=document.createElement("li");l.classList.add("list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center","category"),l.innerHTML=createWidthItem(e.filters.width[t].value,e.filters.width[t].count,s),document.getElementById("width_list_elm").appendChild(l)}for(let t=0;t<e.filters.height.length;t++){let s=checkIsHeightSelected(e.filters.height[t].value);console.log("yes");const l=document.createElement("li");l.classList.add("list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center","category"),l.innerHTML=createHeightItem(e.filters.height[t].value,e.filters.height[t].count,s),document.getElementById("height_list_elm").appendChild(l)}renderPagination(e.pagination)})).catch((e=>{productPlaceHolderElm.textContent="Failed to load data.",console.error("Fetch error:",e),productListElm.innerHTML=""}))}function checkIsIdSelected(e){return selectedCategoriesIds.includes(e)}function checkIsColorSelected(e){return selectedColors.includes(e)}function checkIsWidthSelected(e){return selectedWidths.includes(e)}function checkIsHeightSelected(e){return selectedHeights.includes(e)}$(".js-range-slider").ionRangeSlider({type:"double",skin:"flat",min:0,max:100,from:0,to:100,grid:!0,onChange:function(e){console.log("PRICE RANGE",e),fetchProductsData(1,null,e.from,e.to,null,null,null)}}),$("#number_of_colors_collapse").on("show.bs.collapse",(function(e){document.getElementById("collapseArrowPath").setAttribute("points","6 9 12 15 18 9")})),$("#number_of_colors_collapse").on("hide.bs.collapse",(function(e){document.getElementById("collapseArrowPath").setAttribute("points","9 18 15 12 9 6")})),$("#width_collapse").on("show.bs.collapse",(function(e){document.getElementById("collapseWidthArrowPath").setAttribute("points","6 9 12 15 18 9")})),$("#width_collapse").on("hide.bs.collapse",(function(e){document.getElementById("collapseWidthArrowPath").setAttribute("points","9 18 15 12 9 6")})),$("#height_collapse").on("show.bs.collapse",(function(e){document.getElementById("collapseHeightArrowPath").setAttribute("points","6 9 12 15 18 9")})),$("#height_collapse").on("hide.bs.collapse",(function(e){document.getElementById("collapseHeightArrowPath").setAttribute("points","9 18 15 12 9 6")}));const firstStageSearchInput=document.getElementById("first_stage_search_product_input"),searchProductInput=document.getElementById("search_product_input"),productPlaceHolderElm=document.getElementById("product_grid_placeholder_elm");document.getElementById("showMobileFilters").addEventListener("click",(()=>{document.getElementById("sidebar").style.display="block",document.getElementById("showMobileFilters").style.display="none"})),document.getElementById("hideMobileFilters").addEventListener("click",(()=>{document.getElementById("sidebar").style.display="none",document.getElementById("showMobileFilters").style.display="block"}));const productListElm=document.getElementById("product_grid_elm"),categoryListTopElm=document.getElementById("categories_list_top_elm"),categoryListSideElm=document.getElementById("categories_list_side_elm"),categoryListSideAllCatsElm=document.getElementById("categories_list_side_all_cats_elm");function createProductItem(e,t,s,l,n){return`\n                                     <div class="card" style="height: 285px;"> <img class="card-img-top" src="${e}" onclick="visitProductPage('${n}')">\n                                        <div class="card-body">\n                                            <div class="text-muted description" style="height: 30px;"> ${truncateString(t,60)} </div>\n                                            \n                                            <div class="d-flex align-items-center justify-content-between pt-3">\n                                                <div class="d-flex flex-column">\n                                                    <div class="h6 font-weight-bold">${s} ${l}</div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                         `}function createtTopCategoryItem(e,t,s){return`\n                                  <button type="button" class="badge badge-primary badge-pill" onclick="visitCategoryInWebsite('${s}')">${t}</button>\n                         `}function createCategoryItem(e,t,s,l){return`\n                                 <span onclick="filterByCategory(${e},event)"> <input type="checkbox" ${l?"checked":""}> ${t} </span>  \n                                     <span class="badge badge-primary badge-pill">\n                                     ${s}\n                                    </span>  \n                         `}function createNumColorsItem(e,t,s){return`\n                                <span onclick="filterByNumColors(${e})"> <input type="checkbox" ${s?"checked":""}> ${e} </span> <span class="badge badge-primary badge-pill"> ${t}</span>\n                              `}function createWidthItem(e,t,s){return`\n                                <span onclick="filterByWidths(${e})"> <input type="checkbox" ${s?"checked":""}> ${e} </span> <span class="badge badge-primary badge-pill"> ${t}</span>\n                              `}function createHeightItem(e,t,s){return`\n                                <span onclick="filterByHeights(${e})"> <input type="checkbox" ${s?"checked":""}> ${e} </span> <span class="badge badge-primary badge-pill"> ${t}</span>\n                              `}searchProductInput.addEventListener("input",(()=>{fetchProductsData()})),fetchProductsData();const closeFirstStageSearchContainer=document.getElementById("close_first_stage_search"),firstStageCatContainerElm=document.getElementById("first_stage_category_container");firstStageCatContainerElm.style.display="none";const firstStageFewerCatsElm=document.getElementById("first_stage_fewer_cats"),firstStageAllCatsElm=document.getElementById("first_stage_all_cats_container");function createFirstStageCategoryItem(e,t,s){return`\n                                    <span onclick = "visitCategoryInWebsite('${e}')">\n                                      <span class="text-muted"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-up-right"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></span>\n                                                ${t}        \n                                      <span class="righted">${s}</span>   \n                                    </span>\n                                  `}function createFirstStageProductItem(e,t,s,l,n){return`\n                                        <div class="p-3" onclick = "visitProductPage1stStage('${n}')" style="cursor:pointer;text-align:center;">\n                                            <img src="${e}" alt="Product Image" width="200px%" height="200px">\n                                            <p class="text-muted" style="height: 40px;text-align:left;">${t}</p>\n                                            <h5 class="mb-2 text-right">${s} ${l}</h5>\n                                        </div>\n                         `}function visitCategoryInWebsite(e){window.location.href=e}firstStageSearchInput.addEventListener("input",(()=>{firstStageFewerCatsElm.innerHTML="",document.getElementById("first_stage_categories_list_top_elm").innerHTML="",document.getElementById("first_stage_show_all_categories_btn").style.display="none",""!==firstStageSearchInput.value.trim()&&(firstStageFewerCatsElm.innerHTML="",firstStageAllCatsElm.innerHTML="",document.getElementById("first_stage_product_list").innerHTML="",document.getElementById("first_stage_cats_placeholder").style.display="block",document.getElementById("first_stage_loading_icon").style.display="block",document.getElementById("first_stage_no_result").style.display="none",fetch(`https://embroideres.com/parse-short-records.php?cat=null&productName=${firstStageSearchInput.value}`).then((e=>e.json())).then((e=>{firstStageFewerCatsElm.innerHTML="",console.log("GET response:",e),document.getElementById("first_stage_cats_placeholder").style.display="none",document.getElementById("first_stage_loading_icon").style.display="none",e.categories.forEach((e=>{const t=document.createElement("li");t.classList.add("list-group-item","list-group-item-action","d-flex","justify-content-start","align-items-center","category","auto-width"),t.innerHTML=createtTopCategoryItem(e.id,e.name,e.url),document.getElementById("first_stage_categories_list_top_elm").appendChild(t)}));for(let t=0;t<e.categories.length;t++){const s=document.createElement("li");if(s.innerHTML=createFirstStageCategoryItem(e.categories[t].url,e.categories[t].name,e.categories[t].productCount),firstStageFewerCatsElm.appendChild(s),t>5)break}e.categories.length>5?document.getElementById("first_stage_show_all_categories_btn").style.display="block":document.getElementById("first_stage_show_all_categories_btn").style.display="none",e.categories.forEach((e=>{const t=document.createElement("li");t.innerHTML=createFirstStageCategoryItem(e.url,e.name,e.productCount),firstStageAllCatsElm.appendChild(t)})),firstStageCatContainerElm.style.display="block",document.getElementById("first_stage_product_list").innerHTML="",e.offers.forEach((e=>{const t=document.createElement("div");t.classList.add("col-lg-3","col-md-3"),t.innerHTML=createFirstStageProductItem(e.pic,e.name,e.price,e.currency,e.url),document.getElementById("first_stage_product_list").appendChild(t)})),e.offers.length<1?document.getElementById("first_stage_no_result").style.display="block":document.getElementById("first_stage_no_result").style.display="none"})).catch((e=>{console.error("Error:",e),document.getElementById("first_stage_loading_icon").style.display="none"})))}));const originalWebSiteSearch=document.getElementById("original_website_search"),originalWebSiteSearchM=document.getElementById("original_website_search_m");originalWebSiteSearch.addEventListener("click",(()=>{firstStageSearchEntireDivElm.style.display="block"})),originalWebSiteSearchM.addEventListener("click",(()=>{firstStageSearchEntireDivElm.style.display="block"})),$("#first_stage_cats_colapse").on("show.bs.collapse",(function(){firstStageFewerCatsElm.style.display="none",firstStageAllCatsElm.style.display="block",document.getElementById("first_stage_show_all_categories_btn").innerHTML="Show less"})),$("#first_stage_cats_colapse").on("hide.bs.collapse",(function(){firstStageFewerCatsElm.style.display="block",firstStageAllCatsElm.style.display="none",document.getElementById("first_stage_show_all_categories_btn").innerHTML="Show all categories"}));const firstStageSearchEntireDivElm=document.getElementById("first_stage_search_wrap");closeFirstStageSearchContainer.addEventListener("click",(()=>{firstStageSearchEntireDivElm.style.display="none"})),document.getElementById("hide_first_stage_div_btn").addEventListener("click",(()=>{firstStageSearchEntireDivElm.style.display="none"}));const secondStageSearchEntireDivElm=document.getElementById("main_search_full");function showFullResultSearch(){searchProductInput.value=firstStageSearchInput.value,secondStageSearchEntireDivElm.style.display="block",firstStageSearchEntireDivElm.style.display="none",fetchProductsData(null,null,0,100,null,null,null)}firstStageSearchInput.addEventListener("keydown",(function(e){"Enter"===e.key&&showFullResultSearch()}));const hideSecondDivStageBtn=document.getElementById("hide_second_stage_search_btn");function visitProductPage1stStage(e){window.location.href=e}function truncateString(e,t=50){return e.length>t?e.slice(0,t-3)+"...":e}function filterByCategory(e,t){const s=selectedCategoriesIds.indexOf(e);s>-1?selectedCategoriesIds.splice(s,1):selectedCategoriesIds.push(e),fetchProductsData(1,e,0,100,null,null,null),console.log(selectedCategoriesIds)}function filterByTopCategory(e,t,s){console.log(s)}function filterByNumColors(e){const t=selectedColors.indexOf(e);t>-1?selectedColors.splice(t,1):selectedColors.push(e),fetchProductsData(1,null,0,100,null,null,e),console.log("#########################"),console.log(t),console.log("#########################")}function filterByWidths(e){const t=selectedWidths.indexOf(e);t>-1?selectedWidths.splice(t,1):selectedWidths.push(e),fetchProductsData(1,null,0,100,e,null,null)}function filterByHeights(e){const t=selectedHeights.indexOf(e);t>-1?selectedHeights.splice(t,1):selectedHeights.push(e),fetchProductsData(1,null,0,100,null,e,null)}hideSecondDivStageBtn.addEventListener("click",(()=>{firstStageSearchEntireDivElm.style.display="none",secondStageSearchEntireDivElm.style.display="none"})),$("#show_all_cats_collapse").on("show.bs.collapse",(function(){categoryListSideElm.style.display="none",categoryListSideAllCatsElm.style.display="block",document.getElementById("show_hide_all_categories_btn").innerHTML="Show less"})),$("#show_all_cats_collapse").on("hide.bs.collapse",(function(){categoryListSideElm.style.display="block",categoryListSideAllCatsElm.style.display="none",document.getElementById("show_hide_all_categories_btn").innerHTML="Show all categories"}));const widthInput=document.getElementById("width_input");widthInput.addEventListener("change",(()=>{fetchProductsData(1,null,0,100,parseInt(widthInput.value),null,null)}));const heightInput=document.getElementById("height_input");heightInput.addEventListener("change",(()=>{fetchProductsData(1,null,0,100,null,parseInt(heightInput.value),null)}));const numColorsInput=document.getElementById("number_colors_input");function visitProductPage(e){window.location.href=e}numColorsInput.addEventListener("change",(()=>{fetchProductsData(1,null,0,100,null,null,parseInt(numColorsInput.value))})),document.getElementById("clear_all_search_filters").addEventListener("click",(()=>{selectedCategoriesIds=[],selectedColors=[],selectedWidths=[],selectedHeights=[],searchProductInput.value="",fetchProductsData()}));
